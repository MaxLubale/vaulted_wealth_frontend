{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const DeleteUser=_ref=>{let{userId,onDeleteSuccess}=_ref;const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const[successMessage,setSuccessMessage]=useState(null);const handleDelete=async()=>{// Display a confirmation dialog\nconst isConfirmed=window.confirm('Are you sure you want to delete this user?');if(!isConfirmed){return;}try{setLoading(true);// Send a DELETE request to the backend\nconst response=await fetch(\"/user/\".concat(userId),{method:'DELETE',headers:{'Content-Type':'application/json'}});if(response.ok){onDeleteSuccess(userId);// Set success message\nsetSuccessMessage('User deleted successfully!');}else{// If unsuccessful, handle the error\nconst errorMessage=await response.text();setError(\"Error deleting user: \".concat(errorMessage));}}catch(error){console.error('Error deleting user:',error);setError('Failed to delete user. Please try again.');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleDelete,disabled:loading,children:\"Delete User\"}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:error}),successMessage&&/*#__PURE__*/_jsx(\"p\",{style:{color:'green'},children:successMessage})]});};export default DeleteUser;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","DeleteUser","_ref","userId","onDeleteSuccess","loading","setLoading","error","setError","successMessage","setSuccessMessage","handleDelete","isConfirmed","window","confirm","response","fetch","concat","method","headers","ok","errorMessage","text","console","children","onClick","disabled","style","color"],"sources":["/home/max/personal-projects/vaulted_wealth_frontend/src/components/DeleteUser.js"],"sourcesContent":["import React, { useState } from 'react';\n\nconst DeleteUser = ({ userId, onDeleteSuccess }) => {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [successMessage, setSuccessMessage] = useState(null);\n\n  const handleDelete = async () => {\n    // Display a confirmation dialog\n    const isConfirmed = window.confirm('Are you sure you want to delete this user?');\n\n    if (!isConfirmed) {\n      return; \n    }\n\n    try {\n      setLoading(true);\n\n      // Send a DELETE request to the backend\n      const response = await fetch(`/user/${userId}`, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      });\n\n      if (response.ok) {\n        \n        onDeleteSuccess(userId);\n\n        // Set success message\n        setSuccessMessage('User deleted successfully!');\n      } else {\n        // If unsuccessful, handle the error\n        const errorMessage = await response.text();\n        setError(`Error deleting user: ${errorMessage}`);\n      }\n    } catch (error) {\n      console.error('Error deleting user:', error);\n      setError('Failed to delete user. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div>\n      <button onClick={handleDelete} disabled={loading}>\n        Delete User\n      </button>\n\n      {error && <p style={{ color: 'red' }}>{error}</p>}\n      {successMessage && <p style={{ color: 'green' }}>{successMessage}</p>}\n    </div>\n  );\n};\n\nexport default DeleteUser;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAExC,KAAM,CAAAC,UAAU,CAAGC,IAAA,EAAiC,IAAhC,CAAEC,MAAM,CAAEC,eAAgB,CAAC,CAAAF,IAAA,CAC7C,KAAM,CAACG,OAAO,CAAEC,UAAU,CAAC,CAAGV,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACW,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAACa,cAAc,CAAEC,iBAAiB,CAAC,CAAGd,QAAQ,CAAC,IAAI,CAAC,CAE1D,KAAM,CAAAe,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B;AACA,KAAM,CAAAC,WAAW,CAAGC,MAAM,CAACC,OAAO,CAAC,4CAA4C,CAAC,CAEhF,GAAI,CAACF,WAAW,CAAE,CAChB,OACF,CAEA,GAAI,CACFN,UAAU,CAAC,IAAI,CAAC,CAEhB;AACA,KAAM,CAAAS,QAAQ,CAAG,KAAM,CAAAC,KAAK,UAAAC,MAAA,CAAUd,MAAM,EAAI,CAC9Ce,MAAM,CAAE,QAAQ,CAChBC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CACF,CAAC,CAAC,CAEF,GAAIJ,QAAQ,CAACK,EAAE,CAAE,CAEfhB,eAAe,CAACD,MAAM,CAAC,CAEvB;AACAO,iBAAiB,CAAC,4BAA4B,CAAC,CACjD,CAAC,IAAM,CACL;AACA,KAAM,CAAAW,YAAY,CAAG,KAAM,CAAAN,QAAQ,CAACO,IAAI,CAAC,CAAC,CAC1Cd,QAAQ,yBAAAS,MAAA,CAAyBI,YAAY,CAAE,CAAC,CAClD,CACF,CAAE,MAAOd,KAAK,CAAE,CACdgB,OAAO,CAAChB,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAC5CC,QAAQ,CAAC,0CAA0C,CAAC,CACtD,CAAC,OAAS,CACRF,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,mBACEN,KAAA,QAAAwB,QAAA,eACE1B,IAAA,WAAQ2B,OAAO,CAAEd,YAAa,CAACe,QAAQ,CAAErB,OAAQ,CAAAmB,QAAA,CAAC,aAElD,CAAQ,CAAC,CAERjB,KAAK,eAAIT,IAAA,MAAG6B,KAAK,CAAE,CAAEC,KAAK,CAAE,KAAM,CAAE,CAAAJ,QAAA,CAAEjB,KAAK,CAAI,CAAC,CAChDE,cAAc,eAAIX,IAAA,MAAG6B,KAAK,CAAE,CAAEC,KAAK,CAAE,OAAQ,CAAE,CAAAJ,QAAA,CAAEf,cAAc,CAAI,CAAC,EAClE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAR,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}