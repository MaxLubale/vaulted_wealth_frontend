{"ast":null,"code":"import React,{useState}from'react';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const DeleteAccount=_ref=>{let{accountId,onDeleteSuccess}=_ref;const[loading,setLoading]=useState(false);const[error,setError]=useState(null);const[successMessage,setSuccessMessage]=useState(null);const handleDelete=async()=>{try{// Show a confirmation dialog\nconst confirmed=window.confirm('Are you sure you want to delete this account?');if(!confirmed){return;// Cancel the deletion if not confirmed\n}setLoading(true);// Send a DELETE request to the backend\nconst response=await fetch(\"/accounts/\".concat(accountId),{method:'DELETE',headers:{'Content-Type':'application/json'},body:JSON.stringify({account_id:accountId})});if(response.ok){// If successful, trigger the callback function\nonDeleteSuccess(accountId);// Set success message\nsetSuccessMessage('Account deleted successfully!');}else{// If unsuccessful, handle the error\nconst errorMessage=await response.text();setError(\"Error deleting account: \".concat(errorMessage));}}catch(error){console.error('Error deleting account:',error);setError('Failed to delete account. Please try again.');}finally{setLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"button\",{onClick:handleDelete,disabled:loading,children:\"Delete Account\"}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:'red'},children:error}),successMessage&&/*#__PURE__*/_jsx(\"p\",{style:{color:'green'},children:successMessage})]});};export default DeleteAccount;","map":{"version":3,"names":["React","useState","jsx","_jsx","jsxs","_jsxs","DeleteAccount","_ref","accountId","onDeleteSuccess","loading","setLoading","error","setError","successMessage","setSuccessMessage","handleDelete","confirmed","window","confirm","response","fetch","concat","method","headers","body","JSON","stringify","account_id","ok","errorMessage","text","console","children","onClick","disabled","style","color"],"sources":["/home/max/personal-projects/vaulted_wealth_frontend/src/components/DeleteAccount.js"],"sourcesContent":["import React, { useState } from 'react';\n\nconst DeleteAccount = ({ accountId, onDeleteSuccess }) => {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n  const [successMessage, setSuccessMessage] = useState(null);\n\n  const handleDelete = async () => {\n    try {\n      // Show a confirmation dialog\n      const confirmed = window.confirm('Are you sure you want to delete this account?');\n\n      if (!confirmed) {\n        return; // Cancel the deletion if not confirmed\n      }\n\n      setLoading(true);\n\n      // Send a DELETE request to the backend\n      const response = await fetch(`/accounts/${accountId}`, {\n        method: 'DELETE',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ account_id: accountId }),\n      });\n\n      if (response.ok) {\n        // If successful, trigger the callback function\n        onDeleteSuccess(accountId);\n\n        // Set success message\n        setSuccessMessage('Account deleted successfully!');\n      } else {\n        // If unsuccessful, handle the error\n        const errorMessage = await response.text();\n        setError(`Error deleting account: ${errorMessage}`);\n      }\n    } catch (error) {\n      console.error('Error deleting account:', error);\n      setError('Failed to delete account. Please try again.');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div>\n      <button onClick={handleDelete} disabled={loading}>\n        Delete Account\n      </button>\n\n      {error && <p style={{ color: 'red' }}>{error}</p>}\n      {successMessage && <p style={{ color: 'green' }}>{successMessage}</p>}\n    </div>\n  );\n};\n\nexport default DeleteAccount;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAExC,KAAM,CAAAC,aAAa,CAAGC,IAAA,EAAoC,IAAnC,CAAEC,SAAS,CAAEC,eAAgB,CAAC,CAAAF,IAAA,CACnD,KAAM,CAACG,OAAO,CAAEC,UAAU,CAAC,CAAGV,QAAQ,CAAC,KAAK,CAAC,CAC7C,KAAM,CAACW,KAAK,CAAEC,QAAQ,CAAC,CAAGZ,QAAQ,CAAC,IAAI,CAAC,CACxC,KAAM,CAACa,cAAc,CAAEC,iBAAiB,CAAC,CAAGd,QAAQ,CAAC,IAAI,CAAC,CAE1D,KAAM,CAAAe,YAAY,CAAG,KAAAA,CAAA,GAAY,CAC/B,GAAI,CACF;AACA,KAAM,CAAAC,SAAS,CAAGC,MAAM,CAACC,OAAO,CAAC,+CAA+C,CAAC,CAEjF,GAAI,CAACF,SAAS,CAAE,CACd,OAAQ;AACV,CAEAN,UAAU,CAAC,IAAI,CAAC,CAEhB;AACA,KAAM,CAAAS,QAAQ,CAAG,KAAM,CAAAC,KAAK,cAAAC,MAAA,CAAcd,SAAS,EAAI,CACrDe,MAAM,CAAE,QAAQ,CAChBC,OAAO,CAAE,CACP,cAAc,CAAE,kBAClB,CAAC,CACDC,IAAI,CAAEC,IAAI,CAACC,SAAS,CAAC,CAAEC,UAAU,CAAEpB,SAAU,CAAC,CAChD,CAAC,CAAC,CAEF,GAAIY,QAAQ,CAACS,EAAE,CAAE,CACf;AACApB,eAAe,CAACD,SAAS,CAAC,CAE1B;AACAO,iBAAiB,CAAC,+BAA+B,CAAC,CACpD,CAAC,IAAM,CACL;AACA,KAAM,CAAAe,YAAY,CAAG,KAAM,CAAAV,QAAQ,CAACW,IAAI,CAAC,CAAC,CAC1ClB,QAAQ,4BAAAS,MAAA,CAA4BQ,YAAY,CAAE,CAAC,CACrD,CACF,CAAE,MAAOlB,KAAK,CAAE,CACdoB,OAAO,CAACpB,KAAK,CAAC,yBAAyB,CAAEA,KAAK,CAAC,CAC/CC,QAAQ,CAAC,6CAA6C,CAAC,CACzD,CAAC,OAAS,CACRF,UAAU,CAAC,KAAK,CAAC,CACnB,CACF,CAAC,CAED,mBACEN,KAAA,QAAA4B,QAAA,eACE9B,IAAA,WAAQ+B,OAAO,CAAElB,YAAa,CAACmB,QAAQ,CAAEzB,OAAQ,CAAAuB,QAAA,CAAC,gBAElD,CAAQ,CAAC,CAERrB,KAAK,eAAIT,IAAA,MAAGiC,KAAK,CAAE,CAAEC,KAAK,CAAE,KAAM,CAAE,CAAAJ,QAAA,CAAErB,KAAK,CAAI,CAAC,CAChDE,cAAc,eAAIX,IAAA,MAAGiC,KAAK,CAAE,CAAEC,KAAK,CAAE,OAAQ,CAAE,CAAAJ,QAAA,CAAEnB,cAAc,CAAI,CAAC,EAClE,CAAC,CAEV,CAAC,CAED,cAAe,CAAAR,aAAa"},"metadata":{},"sourceType":"module","externalDependencies":[]}