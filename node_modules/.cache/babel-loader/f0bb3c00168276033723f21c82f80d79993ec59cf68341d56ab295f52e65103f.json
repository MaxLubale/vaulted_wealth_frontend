{"ast":null,"code":"var _jsxFileName = \"/home/max/personal-projects/Vaulted_Wealth/client/src/components/UserAccountsPage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport EditAccountNameForm from './EditAccountNameForm.js'; // Import the EditAccountNameForm component\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst UserAccountsPage = ({\n  userId\n}) => {\n  _s();\n  const [accounts, setAccounts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  useEffect(() => {\n    const fetchUserAccounts = async () => {\n      try {\n        setLoading(true);\n\n        // Fetch user accounts data from the backend\n        const response = await fetch(`/user/${userId}/accounts`, {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        if (response.ok) {\n          const accountsData = await response.json();\n          console.log('User accounts data:', accountsData);\n\n          // Update the accounts state\n          setAccounts(accountsData.accounts);\n        } else {\n          console.error('Error fetching user accounts. Status:', response.status);\n          const errorMessage = await response.text();\n          console.error('Error message:', errorMessage);\n          setError(`Error fetching user accounts: ${errorMessage}`);\n        }\n      } catch (error) {\n        console.error('Error fetching user accounts:', error);\n        setError('Something went wrong. Please try again.');\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchUserAccounts();\n  }, [userId]);\n\n  // Function to handle the edit of an account name\n  const handleEditAccountName = (accountId, newAccountName) => {\n    // Update the accounts state with the new account name\n    setAccounts(prevAccounts => prevAccounts.map(account => account.id === accountId ? {\n      ...account,\n      account_name: newAccountName\n    } : account));\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"User Accounts\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Loading user accounts...\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 19\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      children: error\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 17\n    }, this), accounts.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Accounts List\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this), accounts.map(account => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Account Name: \", account.account_name]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Balance: \", account.balance]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\"Created Date: \", account.created_date]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(EditAccountNameForm, {\n          user_id: userId,\n          account_id: account.id,\n          currentName: account.account_name,\n          onEdit: handleEditAccountName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 15\n        }, this)]\n      }, account.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n_s(UserAccountsPage, \"v7BeaDmwrBy1BZ0ni/ZS6Wl6sY0=\");\n_c = UserAccountsPage;\nexport default UserAccountsPage;\nvar _c;\n$RefreshReg$(_c, \"UserAccountsPage\");","map":{"version":3,"names":["React","useState","useEffect","EditAccountNameForm","jsxDEV","_jsxDEV","UserAccountsPage","userId","_s","accounts","setAccounts","loading","setLoading","error","setError","fetchUserAccounts","response","fetch","method","headers","ok","accountsData","json","console","log","status","errorMessage","text","handleEditAccountName","accountId","newAccountName","prevAccounts","map","account","id","account_name","children","fileName","_jsxFileName","lineNumber","columnNumber","length","balance","created_date","user_id","account_id","currentName","onEdit","_c","$RefreshReg$"],"sources":["/home/max/personal-projects/Vaulted_Wealth/client/src/components/UserAccountsPage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport EditAccountNameForm from './EditAccountNameForm.js'; // Import the EditAccountNameForm component\n\nconst UserAccountsPage = ({ userId }) => {\n  const [accounts, setAccounts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n\n  useEffect(() => {\n    const fetchUserAccounts = async () => {\n      try {\n        setLoading(true);\n\n        // Fetch user accounts data from the backend\n        const response = await fetch(`/user/${userId}/accounts`, {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n        });\n\n        if (response.ok) {\n          const accountsData = await response.json();\n          console.log('User accounts data:', accountsData);\n\n          // Update the accounts state\n          setAccounts(accountsData.accounts);\n        } else {\n          console.error('Error fetching user accounts. Status:', response.status);\n          const errorMessage = await response.text();\n          console.error('Error message:', errorMessage);\n          setError(`Error fetching user accounts: ${errorMessage}`);\n        }\n      } catch (error) {\n        console.error('Error fetching user accounts:', error);\n        setError('Something went wrong. Please try again.');\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchUserAccounts();\n  }, [userId]);\n\n  // Function to handle the edit of an account name\n  const handleEditAccountName = (accountId, newAccountName) => {\n    // Update the accounts state with the new account name\n    setAccounts((prevAccounts) =>\n      prevAccounts.map((account) =>\n        account.id === accountId ? { ...account, account_name: newAccountName } : account\n      )\n    );\n  };\n\n  return (\n    <div>\n      <h1>User Accounts</h1>\n      {loading && <p>Loading user accounts...</p>}\n      {error && <p>{error}</p>}\n      {accounts.length > 0 && (\n        <div>\n          <h2>Accounts List</h2>\n          {accounts.map((account) => (\n            <div key={account.id}>\n              <p>Account Name: {account.account_name}</p>\n              <p>Balance: {account.balance}</p>\n              <p>Created Date: {account.created_date}</p>\n              {/* Render the EditAccountNameForm for each account */}\n              <EditAccountNameForm\n                user_id={userId}\n                account_id={account.id}\n                currentName={account.account_name}\n                onEdit={handleEditAccountName}\n              />\n              {/* Fetch and display transactions for this account if needed */}\n              {/* You can link to a transactions page or include them here */}\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default UserAccountsPage;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}